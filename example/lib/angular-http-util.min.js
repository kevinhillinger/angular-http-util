/**
 * AngularJS http service utilities
 * @author Kevin Hillinger
 * @version v0.1.0 - 2013-07-18
 * @link http://github.com/kevinhillinger/angular-http-util
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function HttpMappingProvider(){function a(a){return angular.extend({uri:b(a),isMatch:function(b){return a.regex.test(b)}},a)}function b(a){var b=(a.scheme||"http")+"://"+a.hostname;return a.port&&!isNaN(a.port)&&(b+=":"+a.port),b}var c={};this.when=function(b,d){return d=angular.extend(d,{pattern:b,caseInsensitiveMatch:!1,regex:new RegExp(b,d.caseInsensitiveMatch?"i":"")}),c[b]=a(d),this},this.$get=function(){var a={mappings:c,match:function(a){var b=null;return angular.forEach(c,function(c){c.isMatch(a)&&(b=c)}),b}};return a}}function HttpPathUtilityProvider(){this.$get=["http.util.httpMapping",function(a){function b(a){return a&&a.length>0&&0!==a.indexOf("http")}function c(b){var c=a.match(b);return c?c.uri+d(b):b}function d(a){return 0===a.indexOf("/")?a:"/"+a}var e={},f={resolveUrl:function(a){return b(a)?e[a]||(e[a]=c(a)):a},refresh:function(){e={}}};return f}]}var httpRequestInterceptor=["http.util.httpPathUtility","$q",function(a,b){return{request:function(c){return c&&(c.url=a.resolveUrl(c.url)),c||b.when(c)}}}];angular.module("http.util",[]).provider("http.util.httpMapping",HttpMappingProvider).provider("http.util.httpPathUtility",HttpPathUtilityProvider).factory("http.util.httpRequestInterceptor",httpRequestInterceptor).config(["$httpProvider",function(a){a.interceptors.push("http.util.httpRequestInterceptor")}]);